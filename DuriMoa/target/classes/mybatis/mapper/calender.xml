<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ugi.durimoa.calender.dao.ICalenderDAO">

	<insert id="calenderAdd" parameterType="CalenderVO" useGeneratedKeys="true" keyProperty="calId" keyColumn="cal_id">
		INSERT INTO CALENDER(mem_id, cal_tt, cal_pc, cal_x, cal_y, cal_sdt, cal_edt) 
		VALUES (#{memId}, #{calTt}, #{calPc}, #{calX}, #{calY}, #{calSdt}, #{calEdt})
	</insert>
	
	<select id="calenderShow" resultType="CalenderVO" parameterType="String">
		SELECT * 
		FROM calender a, member b
		WHERE a.mem_id = b.mem_id
		AND b.mem_id = #{memId}
		AND a.yse_yn = 'Y'
	</select>
	
	<update id="calenderUpdate" parameterType="CalenderVO">
	UPDATE calender 
	SET cal_tt = #{calTt}
	   ,cal_pc = #{calPc}
	   ,cal_x = #{calX}
	   ,cal_y = #{calY}
	   ,cal_sdt = #{calSdt}
	   ,cal_edt = #{calEdt}
	WHERE cal_id = #{calId}
	</update>
	
	<update id="calenderDel" parameterType="CalenderVO">
	UPDATE calender SET yse_yn = 'N' WHERE cal_id=#{calId}
	</update>
	
</mapper>